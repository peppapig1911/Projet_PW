à copier une fois connectée à une database_web :

Table des utilisateurs :

CREATE TABLE public.users (
    id SERIAL PRIMARY KEY,
    username TEXT NOT NULL UNIQUE,
    password TEXT NOT NULL
);

ALTER TABLE public.users OWNER TO postgres;



Table des événements :

CREATE TABLE public.event (
    event_id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    nb_suscribers INTEGER DEFAULT 0,
    owner_id INTEGER REFERENCES public.users(id) ON DELETE CASCADE,
    max_participants INTEGER,
    event_date DATE,
    full_description TEXT,
    image_url TEXT,
    location TEXT
);

ALTER TABLE public.event OWNER TO postgres;



Table de liaison :


CREATE TABLE public.event_subscriptions (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES public.users(id) ON DELETE CASCADE,
    event_id INTEGER REFERENCES public.event(id) ON DELETE CASCADE,
    registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE (user_id, event_id)
);

ALTER TABLE public.event_subscriptions OWNER TO postgres;